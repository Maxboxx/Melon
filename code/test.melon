
struct A
	int: i
	
	function init()
		self.i = 0
	end
	
	function init(int: i)
		self.i = i
	end
	
	function int: getValue()
		return self.i
	end
	
	function updateValue(int: ref i)
		i = self.i
	end
	
	function updateValue(A: ref a)
		a = self
	end
	
	function operator A: -()
		return A {
			i = -self.i
		}
	end
	
	static function operator A: +(A: a, A: b)
		return A {
			i = a.i + b.i
		}
	end
end

A: a = -A(3)
A: b = A()
int: i = 0

a.updateValue(ref i)
a.updateValue(ref b)

A: c = a + b

_debug print i
_debug print b
_debug print c
